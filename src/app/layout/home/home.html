<div class="container home-container">
    <div class="inner">
        <section class="banner">
            <img src="background-img.jpg" alt="banner-img">
            <h2>Your next adventure awaits.</h2>
            <p>Discover hidden gems, epic journeys, and tips for your next great escape</p>
        </section>
        <main>

            <section class="article-items">
                <p class="sub-heading">Recently added post</p>
                @if (hasError) {
                <p class="error-msg">Something went wrong while loading blogs.</p>
                <button (click)="RefetchRecentBlogs()" class="button">Try again</button>
                }

                @if (isLoading) {
                <app-loader />
                } @else {
                <div class="articles">
                    @for (blog of recentBlogs; track blog) {
                    <app-blog-article [blog]="blog" />
                    }
                </div>
                }

            </section>

            <section class="popular-posts">
                <div class="inner">
                    <p class="sub-heading">Most Popular Posts</p>

                    <div class="popular-trip">
                        @for (blog of popularBlogs; track $index) {
                        <div class="popular-card">
                            <img [src]="blog.banner.url" alt="Image">
                            <div class="card-content">
                                <h2>{{blog.title | shorten: 50 }}</h2>
                                <p>{{blog.content | shorten: 500}}</p>
                            </div>
                            <a [routerLink]="['/blogs', 'details', blog.slug]" class="continue-reading">Continue Reading</a>
                            <div class="likes-and-views">
                                <p><i class="fa-regular fa-eye"></i> {{blog.viewsCount}}</p>
                                <p><i class="fa-regular fa-thumbs-up"></i> {{blog.likesCount}}</p>
                                <p><i class="fa-regular fa-comment"></i> {{blog.commentsCount}}</p>
                            </div>
                        </div>
                        }
                    </div>
                </div>
            </section>
        </main>
    </div>
</div>