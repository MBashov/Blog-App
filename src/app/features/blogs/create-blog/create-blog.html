<section class="form-section">
    <div class="form-container">
        <h2>Create / Edit Blog Post</h2>

        <form (ngSubmit)="onSubmit()" #formRef="ngForm">
            <label for="title">Title</label>
            <input
                type="text" 
                id="title" 
                name="title" 
                placeholder="Blog post title" 
                required 
                minlength="5" 
                maxlength="100" 
                #inputTitle="ngModel"
                ngModel
            />
            @if(inputTitle.errors?.['required'] && inputTitle.touched) {
                <p class="error-msg">Title is required!</p>
            }
            @if(inputTitle.errors?.['minlength'] && inputTitle.touched) {
                <p class="error-msg">Title must be at least 5 characters!</p>
            }

            <label for="slug">Slug</label>
            <input
                type="text" 
                id="slug" 
                name="slug" 
                placeholder="unique-blog-slug" 
                #inputSlug="ngModel"
                ngModel
            />

            <label for="content">Content</label>
            <textarea 
                id="content" 
                name="content" 
                rows="8" 
                placeholder="Write your blog content here..." 
                required
                minlength="20" 
                maxlength="2000" 
                #inputContent="ngModel"
                ngModel
            >
            </textarea>
            @if(inputContent.errors?.['required'] && inputContent.touched) {
                <p class="error-msg">Content is required!</p>
            }
            @if(inputContent.errors?.['minlength'] && inputContent.touched) {
                <p class="error-msg">Content must be at least 20 characters!</p>
            }

            <label for="banner-url">Banner Image</label>
            <input
                type="file" 
                id="banner-url" 
                name="bannerUrl" 
                accept="image/png, image/jpeg, image/jpg, image/webp" 
                required 
                #inputImages="ngModel"
                ngModel
            />
            @if(inputImages.invalid && inputImages.touched) {
                <p class="error-msg">At least one image is required</p>
            }
            <label for="status">Status</label>
            <select 
                id="status" 
                name="status" 
                required 
                #inputStatus="ngModel"
                ngModel
            >
                <option value="published">Published</option>
                <option value="draft">Draft</option>
            </select>
            @if(inputStatus.invalid && inputStatus.touched) {
                <p class="error-msg">Please select a status!</p>
            }
            <!-- <button (click)="addBlog($event, inputTitle.value, inputSlug.value, inputContent.value, inputImages.value, inputStatus.value)">Submit Post</button> -->
            <button [disabled]="formRef.invalid">Submit Post</button>
        </form>
    </div>
</section>